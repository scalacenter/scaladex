@import scaladex.core.model.search.Pagination
@import scaladex.core.model.search.SearchParams

@(params: SearchParams,
  pagination: Pagination, 
  you: Boolean)
<div class="order-by">
  <form action="/search" action="GET">
    <input type="hidden" name="q" value="@params.queryString">
    @if(you){
      <input type="hidden" name="you" value="">
    }
    <input type="hidden" name="page" value="@pagination.current">

    @for(topic <- params.topics){
      <input type="hidden" name="topics" value="@topic">
    }

    @for(language <- params.languages){
      <input type="hidden" name="languages" value="@language">
    }

    @for(platform <- params.platforms){
      <input type="hidden" name="platforms" value="@platform">
    }

    @if(params.contributingSearch){
      <input type="hidden" name="contributingSearch" value="true">
    }

    <h3>Sorting</h3>
    <div class="btn-group" role="group" aria-label="sorting">
      <button name="sort" value="relevant" type="submit" 
        class="btn btn-default @if(params.sorting.contains("relevant") || params.sorting.isEmpty) { active }">
        Relevant
      </button>
      <button name="sort" value="dependent" type="submit" 
        class="btn btn-default @if(params.sorting.contains("dependent")) { active }">
        Dependent
      </button>
      <button name="sort" value="created" type="submit" 
        class="btn btn-default @if(params.sorting.contains("created")) { active }">
        Created
      </button>
      <!-- TODO compute updatedAt along with createdAt in update-projects scheduler -->
      <!-- <button name="sort" value="updated" type="submit" 
        class="btn btn-default @if(params.sorting.contains("updated")) { active }">
        Updated
      </button> -->
      <button name="sort" value="stars" type="submit" 
        class="btn btn-default @if(params.sorting.contains("stars")) { active }">
        Stars
      </button>
      <button name="sort" value="forks" type="submit" 
        class="btn btn-default @if(params.sorting.contains("forks")) { active }">
        Forks
      </button>
      <button name="sort" value="contributors" type="submit"
        class="btn btn-default @if(params.sorting.contains("contributors")) { active }">
        Contributors
      </button>
    </div>
  </form>
</div>
