@import ch.epfl.scala.index.model.release._
@import ch.epfl.scala.index.views.Formats
@import ch.epfl.scala.index.newModel.NewDependency
@import ch.epfl.scala.index.newModel.NewRelease

@(release: NewRelease, reverseDeps: Seq[NewDependency.Reverse])
@sampleReverseDeps = @{NewDependency.Reverse.sample(reverseDeps, 100)}
<div class="dependents box" id="dependents">
  <h4>
    <a href="/search?q=depends-on:@release.organization/@release.artifactName">
      Artifact Dependents
    </a>
  </h4>

  <hr>

  <h4>@Formats.plural(sampleReverseDeps.size, "dependent")
  </h4>
  <ul>
  @for(fullDep <- sampleReverseDeps){
    <li>
      <a href="@fullDep.url" target="_blank">
      @fullDep.name
      </a>
      <span class="label label-primary">@fullDep.dependency.scope</span>
    </li>
  }
  @if(100 < sampleReverseDeps.size) {
    <p>Only showing 100 dependents</p>
  }
  </ul>
</div>
